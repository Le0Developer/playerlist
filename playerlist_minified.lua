local e=""for y=1,16 do local p=math.random(1,16)e=e.. ("0123456789abcdef"):sub(p,p)end local t=gui.Reference("Menu")local a=gui.Checkbox(gui.Reference("Misc","General","Extra"),"playerlist.enable","Player List",false)local o={x=100,y=100,w=400,h=400}local i=o.w/2-8 local n=gui.Window("playerlist"..tostring(e),"Player List",o.x,o.y,o.w,o.h)local s={x=8,y=8,w=i,h=o.h-16}local h=gui.Groupbox(n,"Select a player",s.x,s.y,s.w,s.h)local r=gui.Listbox(h,"players",o.h-106)local d={x=s.x+s.w+4,y=s.y,w=o.w-i-16,h=o.h}local l=gui.Groupbox(n,"Per Player Settings",d.x,d.y,d.w,d.h)local u={}local c={}local m={}local f f=function(y)return{set=function(p,v)y.settings[p]=v if c[r:GetValue()+1]==v.info.uid then return u[p].set(v)end end,get=function(p)return y.settings[p]end}end plist={gui={Checkbox=function(y,p,v)local b=gui.Checkbox(l,"settings."..tostring(y),p,v)u[y]={set=function(g)return b:SetValue(g)end,get=function()return b:GetValue()end,default=v}for g,k in pairs(m)do k.settings[y]=v end return b end,Slider=function(y,p,v,b,g,k)local q=gui.Slider(l,"settings."..tostring(y),p,v,b,g,k or 1)u[y]={set=function(j)return q:SetValue(j)end,get=function()return q:GetValue()end,default=v}for j,x in pairs(m)do x.settings[y]=v end return q end,ColorPicker=function(y,p,v,k,q,j)local b=gui.ColorPicker(l,"settings."..tostring(y),v,k,q,j)u[y]={set=function(g)return b:SetValue(unpack(g))end,get=function()return{b:GetValue()}end,default={v,k,q,j}}for g,x in pairs(m)do x.settings[y]={v,k,q,j}end return b end,Text=function(y,p)local v=gui.Text(l,p)local b=p u[y]={set=function(g)v:SetText(g)b=g end,get=function()return b end,default=p}for g,k in pairs(m)do k.settings[y]=p end return p end,Combobox=function(y,p,...)local v=gui.Slider(l,"settings."..tostring(y),p,...)u[y]={set=function(b)return v:SetValue(b)end,get=function()return v:GetValue()end,default=0}for b,g in pairs(m)do g.settings[y]=0 end return v end},GetByUserID=function(y)return f(m[y])end,GetByIndex=function(y)local p=client.GetPlayerInfo(y)if p~=nil then return f(m[p["UserID"]])end for v,b in pairs(m)do if b.info.index==y then return f(b)end end end}local w=nil callbacks.Register("Draw","playerlist.callbacks.Draw",function()n:SetActive(a:GetValue()and t:IsActive())if not n:IsActive()then return end if w~=r:GetValue()then w=r:GetValue()local y=m[c[r:GetValue()+1]].settings for p,v in pairs(u)do v.set(y[p])end else local y=m[c[r:GetValue()+1]].settings for p,v in pairs(u)do y[p]=v.get()end end end)callbacks.Register("CreateMove","playerlist.callbacks.CreateMove",function(y)local p=entities.FindByClass("CCSPlayer")for v=1,#p do local b=p[v]local g=client.GetPlayerInfo(b:GetIndex())["UserID"]if m[g]==nil then table.insert(c,g)m[g]={info={nickname=b:GetName(),uid=g,index=b:GetIndex()},settings={}}local k=m[g].settings for q,j in pairs(u)do k[q]=j.default end r:SetOptions(unpack((function()local q={}local j=1 for x,z in pairs(m)do q[j]=z.info.nickname j=j+1 end return q end)()))elseif m[g].info.nickname~=b:GetName()then m[g].info.nickname=b:GetName()r:SetOptions(unpack((function()local k={}local q=1 for j,x in pairs(m)do k[q]=x.info.nickname q=q+1 end return k end)()))end end end)plist.gui.Checkbox("lby_override.toggle","LBY Override",false)plist.gui.Slider("lby_override.value","LBY Override Value",0,-58,58)callbacks.Register("CreateMove","playerlist.plugins.LBY_Override",function(y)local p=entities.GetLocalPlayer()local v=entities.FindByClass("CCSPlayer")for b=1,#v do local g=false repeat local k=v[b]if not k:IsAlive()or k:GetTeamNumber()==p:GetTeamNumber()then g=true break end local q=plist.GetByIndex(k:GetIndex())if q.get("lby_override.toggle")then k:SetProp("m_flLowerBodyYawTarget",(k:GetProp("m_angEyeAngles")(q.get("lby_override.value")+180))%360-180)end g=true until true if not g then break end end end)