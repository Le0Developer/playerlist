local e="LeoDeveloper"local t="1.2.2"local a=""for Q=1,16 do local J=math.random(1,16)a=a.. ("0123456789abcdef"):sub(J,J)end local o={}local i={}local n={}local s={}local h=gui.Reference("Menu")local r=300 local d=gui.Tab(gui.Reference("Misc"),"playerlist","Player List")local l do local Q=gui.Window("playerlist","Player List",100,100,530,600)Q:SetActive(false)l=Q end local u={x=8,y=8,w=618,h=108}local c=gui.Groupbox(d,"Menu Controller",u.x,u.y,u.w,u.h)local m do local Q=gui.Combobox(c,"controller.mode","Menu Mode","Tab","Window")Q:SetWidth(200)m=Q end local f do local Q=gui.Keybox(c,"controller.openkey","Window Openkey",0)Q:SetWidth(200)Q:SetPosX(210)Q:SetPosY(0)Q:SetDisabled(true)f=Q end local w=nil local y={x=u.x,y=u.y+u.h,w=r,h=0}local p=gui.Groupbox(d,"Select a player",y.x,y.y,y.w,y.h)local v=gui.Listbox(p,tostring(a)..".players",440)local b do local Q=gui.Button(p,"Clear",function()w=nil v:SetOptions()s={}n={}end)Q:SetPosX(188)Q:SetPosY(-42)Q:SetWidth(80)b=Q end local g={x=y.x+y.w+4,y=y.y,w=618-r,h=0}local k=gui.Groupbox(d,"Per Player Settings",g.x,g.y,g.w,g.h)local q q=function(Q)return{set=function(J,X)Q.settings[J]=X if#n>0 and n[v:GetValue()+1]==Q.info.uid then return i[J].set(X)end end,get=function(J)return Q.settings[J]end}end local j j=function(Q,J)local X={}local Z={obj=Q}Z.reapply=function(ee)Z.obj=ee for et,ea in pairs(X)do ee[et](ee,unpack(ea))end end setmetatable(Z,{__index=function(ee,et)if et:sub(1,3)=="Set"then return function(ee,...)X[et]={...}return Z.obj[et](Z.obj,...)end end return Z.obj[et]end})return Z end plist={gui={Checkbox=function(Q,J,X)local Z=gui.Checkbox(k,tostring(a)..".settings."..tostring(Q),J,X)local ee=j(Z)i[Q]={set=function(et)return Z:SetValue(et)end,get=function()return Z:GetValue()end,default=X,obj=Z}for et,ea in pairs(s)do ea.settings[Q]=X end table.insert(o,{obj=Z,recreate=function()Z=gui.Checkbox(k,tostring(a)..".settings."..tostring(Q),J,X)ee.reapply(Z)return Z end})return ee end,Slider=function(Q,J,X,Z,ee,et)local ea=gui.Slider(k,tostring(a)..".settings."..tostring(Q),J,X,Z,ee,et or 1)local eo=j(ea)i[Q]={set=function(ei)return ea:SetValue(ei)end,get=function()return ea:GetValue()end,default=X,obj=ea}for ei,en in pairs(s)do en.settings[Q]=X end table.insert(o,{obj=ea,recreate=function()ea=gui.Slider(k,tostring(a)..".settings."..tostring(Q),J,X,Z,ee,et or 1)eo.reapply(ea)return ea end})return eo end,ColorPicker=function(Q,J,X,Z,ee,et)local ea=gui.ColorPicker(k,tostring(a)..".settings."..tostring(Q),X,Z,ee,et)local eo=j(ea)i[Q]={set=function(ei)return ea:SetValue(unpack(ei))end,get=function()return{ea:GetValue()}end,default={X,Z,ee,et},obj=ea}for ei,en in pairs(s)do en.settings[Q]={X,Z,ee,et}end table.insert(o,{obj=ea,recreate=function()ea=gui.ColorPicker(k,tostring(a)..".settings."..tostring(Q),X,Z,ee,et)eo.reapply(ea)return ea end})return eo end,Text=function(Q,J)local X=gui.Text(k,J)local Z=j(X)local ee=J i[Q]={set=function(et)X:SetText(et)ee=et end,get=function()return ee end,default=J,obj=X}for et,ea in pairs(s)do ea.settings[Q]=J end table.insert(o,{obj=X,recreate=function()X=gui.Text(k,J)Z.reapply(X)return X end})return Z end,Combobox=function(Q,J,...)local X=gui.Combobox(k,tostring(a)..".settings."..tostring(Q),J,...)local Z=j(X)i[Q]={set=function(et)return X:SetValue(et)end,get=function()return X:GetValue()end,default=0,obj=X}for et,ea in pairs(s)do ea.settings[Q]=0 end local ee={...}table.insert(o,{obj=X,recreate=function()X=gui.Combobox(k,tostring(a)..".settings."..tostring(Q),J,unpack(ee))Z.reapply(X)return X end})return Z end,Button=function(Q,J)local X X=function()if#n>0 then J(n[v:GetValue()+1])else J()end end local Z=gui.Button(k,Q,X)local ee=j(Z)table.insert(o,{obj=Z,recreate=function()Z=gui.Button(k,Q,X)ee.reapply(Z)return Z end})return ee end,Editbox=function(Q,J)local X=gui.Editbox(k,Q,J)local Z=j(X)i[Q]={set=function(ee)return X:SetValue(ee)end,get=function()return X:GetValue()end,default=0,obj=X}for ee,et in pairs(s)do et.settings[Q]=0 end table.insert(o,{obj=X,recreate=function()X=gui.Editbox(k,Q,J)Z.reapply(X)return X end})return Z end,Multibox=function(Q)local J=gui.Multibox(k,Q)local X=j(J)table.insert(o,{obj=J,recreate=function()J=gui.Multibox(k,Q)X.reapply(J)return J end})return X end,Multibox_Checkbox=function(Q,J,X,Z)local ee=gui.Checkbox(Q.obj,tostring(a)..".settings."..tostring(J),X,Z)local et=j(ee)i[J]={set=function(ea)return ee:SetValue(ea)end,get=function()return ee:GetValue()end,default=Z,obj=ee}for ea,eo in pairs(s)do eo.settings[J]=Z end table.insert(o,{obj=ee,recreate=function()ee=gui.Checkbox(Q.obj,tostring(a)..".settings."..tostring(J),X,Z)et.reapply(ee)return ee end})return et end,Multibox_ColorPicker=function(Q,J,X,Z,ee,et,ea)local eo=gui.ColorPicker(Q.obj,J,Z,ee,et,ea)local ei=j(eo)i[J]={set=function(en)return eo:SetValue(unpack(en))end,get=function()return{eo:GetValue()}end,default={Z,ee,et,ea},obj=eo}for en,es in pairs(s)do es.settings[J]={Z,ee,et,ea}end table.insert(o,{obj=eo,recreate=function()eo=gui.ColorPicker(Q.obj,tostring(a)..".settings."..tostring(J),Z,ee,et,ea)ei.reapply(eo)return eo end})return ei end,Remove=function(Q)Q:Remove()for J,X in pairs(i)do if X.obj==Q then i[J]=nil for Z,ee in pairs(s)do ee.settings[J]=nil end break end end end},GetByUserID=function(Q)return q(s[Q])end,GetByIndex=function(Q)local J=client.GetPlayerInfo(Q)if J~=nil then return q(s[J["UserID"]])end for X,Z in pairs(s)do if Z.info.index==Q then return q(Z)end end end,GetSelected=function()if#n>0 then q(s[n[v:GetValue()+1]])end return nil end,GetSelectedIndex=function()if#n>0 then local Q=s[n[v:GetValue()+1]].info.index end return nil end,GetSelectedUserID=function()if#n>0 then local Q=n[v:GetValue()+1]end return nil end}local x=0 local z=0 local _ _=function(Q)if Q==1 then return"SPECTATOR"elseif Q==2 then return"T"else return"CT"end end callbacks.Register("Draw","playerlist.callbacks.Draw",function()if f:GetValue()==0 and m:GetValue()==1 then l:SetActive(h:IsActive())end if not h:IsActive()and(m:GetValue()==0 or(not l:IsActive()or m:GetValue()~=0))then return end if f:GetValue()~=z and m:GetValue()==1 then z=f:GetValue()l:SetOpenKey(z)end if m:GetValue()~=x then if m:GetValue()==0 then p:Remove()v:Remove()b:Remove()p=gui.Groupbox(d,"Select a player",y.x,y.y,y.w,y.h)v=gui.Listbox(p,tostring(a)..".players",440)do local Q=gui.Button(p,"Clear",function()w=nil v:SetOptions()s={}n={}end)Q:SetPosX(188)Q:SetPosY(-42)Q:SetWidth(80)b=Q end k:Remove()k=gui.Groupbox(d,"Per Player Settings",g.x,g.y,g.w,g.h)for Q=1,#o do o[Q].obj:Remove()o[Q].obj=o[Q].recreate(k)end f:SetDisabled(true)l:SetActive(false)else p:Remove()v:Remove()b:Remove()p=gui.Groupbox(l,"Select a player",8,8,188,584)v=gui.Listbox(p,tostring(a)..".players",494)do local Q=gui.Button(p,"Clear",function()w=nil v:SetOptions()s={}n={}end)Q:SetPosX(84)Q:SetPosY(-42)Q:SetWidth(80)b=Q end k:Remove()k=gui.Groupbox(l,"Per Player Settings",200,8,318,584)for Q=1,#o do o[Q].obj:Remove()o[Q].obj=o[Q].recreate(k)end f:SetDisabled(false)end x=m:GetValue()w=nil v:SetOptions(unpack((function()local Q={}local J=1 for X,Z in ipairs(n)do Q[J]="[".._(s[Z].info.team).."] "..s[Z].info.nickname J=J+1 end return Q end)()))end if#n==0 then for Q=1,#o do local J=o[Q]J.obj:SetDisabled(true)end w=nil return elseif w==nil then for Q=1,#o do local J=o[Q]J.obj:SetDisabled(false)end end if w~=v:GetValue()then w=v:GetValue()local Q=s[n[v:GetValue()+1]].settings for J,X in pairs(i)do X.set(Q[J])end else local Q=s[n[v:GetValue()+1]].settings for J,X in pairs(i)do Q[J]=X.get()end end end)local E=nil local T=nil callbacks.Register("CreateMove","playerlist.callbacks.CreateMove",function(Q)if engine.GetMapName()~=E or engine.GetServerIP()~=T then E=engine.GetMapName()T=engine.GetServerIP()w=nil v:SetOptions()s={}n={}end local J=entities.GetLocalPlayer():GetProp("m_iPendingTeamNum")local X=entities.FindByClass("CCSPlayer")for Z=1,#X do local ee=false repeat local et=X[Z]if client.GetPlayerInfo(et:GetIndex())["IsGOTV"]then ee=true break end local ea=client.GetPlayerInfo(et:GetIndex())["UserID"]if s[ea]==nil then table.insert(n,ea)s[ea]={info={nickname=et:GetName(),uid=ea,index=et:GetIndex(),team=et:GetProp("m_iPendingTeamNum")},settings={}}local eo=s[ea].settings for ei,en in pairs(i)do eo[ei]=en.default end v:SetOptions(unpack((function()local ei={}local en=1 for es,eh in ipairs(n)do ei[en]="[".._(s[eh].info.team).."] "..s[eh].info.nickname en=en+1 end return ei end)()))end if s[ea].info.nickname~=et:GetName()then s[ea].info.nickname=et:GetName()v:SetOptions(unpack((function()local eo={}local ei=1 for en,es in ipairs(n)do eo[ei]="[".._(s[es].info.team).."] "..s[es].info.nickname ei=ei+1 end return eo end)()))end if s[ea].info.team~=et:GetProp("m_iPendingTeamNum")then s[ea].info.nickname=et:GetProp("m_iPendingTeamNum")v:SetOptions(unpack((function()local eo={}local ei=1 for en,es in ipairs(n)do eo[ei]="[".._(s[es].info.team).."] "..s[es].info.nickname ei=ei+1 end return eo end)()))end ee=true until true if not ee then break end end end)http.Get("https://raw.githubusercontent.com/Le0Developer/playerlist/master/version",function(Q)if not Q then return end if Q==t then return end local J=180 local X=gui.Groupbox(d,"Update Available",u.x,u.y+u.h,618,J)local Z=gui.Text(X,"Current version: "..tostring(t).."\nLatest version: "..tostring(Q))local ee=gui.Checkbox(X,"updater.minified","Download minified version",true)local et do local ea=gui.Button(X,"Update",function()Z:SetText("Updating...")et:SetDisabled(true)http.Get(((function()if ee:GetValue()then return"https://raw.githubusercontent.com/Le0Developer/playerlist/master/playerlist_minified.lua"else return"https://raw.githubusercontent.com/Le0Developer/playerlist/master/playerlist.lua"end end)()),function(eo)if eo then Z:SetText("Saving...")do local ei=file.Open(GetScriptName(),"w")ei:Write(eo)ei:Close()end return Z:SetText("Updated to version: "..tostring(Q)..".\nReload `"..tostring(GetScriptName()).."` for changes to take effect.")else Z:SetText("Failed.")return et:SetDisabled(false)end end)end)ea:SetWidth(290)et=ea end do local ea=gui.Button(X,"Open Changelog in Browser",function()local eo=""local ei="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-"do local en={}for es=1,#ei do en[ei:sub(es,es)]=true end ei=en end for en=1,#Q do if ei[Q:sub(en,en)]then eo=eo..Q:sub(en,en)end end return panorama.RunScript("SteamOverlayAPI.OpenExternalBrowserURL( 'https://github.com/Le0Developer/playerlist/blob/master/changelog.md#version-"..eo.."' );")end)ea:SetWidth(290)ea:SetPosX(300)ea:SetPosY(78)end y.y=y.y+J p:SetPosY(y.y)g.y=g.y+J if m:GetValue()==0 then return k:SetPosY(g.y)end end)do local Q=plist.gui.Combobox("resolver.type","Resolver","On","Off","Manual (LBY Override)")Q:SetDescription("Choose a resolver for this player.")end do local Q=plist.gui.Slider("resolver.lby_override","LBY Override Value",0,-58,58)Q:SetDescription("The LBY value for resolving when using manual resolver.")end callbacks.Register("AimbotTarget","playerlist.extensions.Resolver.AimbotTarget",function(Q)if not Q:GetIndex()then return end local J=plist.GetByIndex(Q:GetIndex())if J.get("resolver.type")==0 then return gui.SetValue("rbot.accuracy.posadj.resolver",true)else return gui.SetValue("rbot.accuracy.posadj.resolver",false)end end)callbacks.Register("CreateMove","playerlist.extensions.Resolver.CreateMove",function(Q)local J=entities.FindByClass("CCSPlayer")for X=1,#J do local Z=false repeat local ee=J[X]if not ee:IsAlive()then Z=true break end local et=plist.GetByIndex(ee:GetIndex())if et.get("resolver.type")==2 then ee:SetProp("m_flLowerBodyYawTarget",(ee:GetProp("m_angEyeAngles").y+et.get("resolver.lby_override")+180)%360-180)end Z=true until true if not Z then break end end end)local A=nil local O=false callbacks.Register("AimbotTarget","playerlist.extensions.Priority.AimbotTarget",function(Q)if not Q:GetIndex()then return end if A and Q:GetIndex()~=A:GetIndex()then if O then gui.SetValue("rbot.aim.target.lock",false)end A=Q O=false elseif O then return gui.SetValue("rbot.aim.target.fov",180)end end)do local Q=plist.gui.Combobox("targetmode","Targetmode","Normal","Friendly","Priority")Q:SetDescription("Mode for targetting. NOTE: Priority on teammates attack them.")end local I=3 local N={}callbacks.Register("CreateMove","playerlist.extensions.Priority.CreateMove",function(Q)local J=entities.GetLocalPlayer()local X=entities.FindByClass("CCSPlayer")for Z=1,#X do local ee=false repeat local et=X[Z]if not et:IsAlive()then ee=true break end local ea=plist.GetByIndex(et:GetIndex())local eo=client.GetPlayerInfo(et:GetIndex())["UserID"]if ea.get("targetmode")==0 and N[eo]then et:SetProp("m_iTeamNum",et:GetProp("m_iPendingTeamNum"))N[eo]=nil elseif ea.get("targetmode")==1 then et:SetProp("m_iTeamNum",J:GetTeamNumber())N[eo]=true elseif ea.get("targetmode")==2 then if et:GetProp("m_iPendingTeamNum")==J:GetTeamNumber()then et:SetProp("m_iTeamNum",(J:GetTeamNumber()-1)%2+2)N[eo]=true else if N[eo]then et:SetProp("m_iTeamNum",et:GetProp("m_iPendingTeamNum"))N[eo]=nil end if not O and et:GetTeamNumber()~=J:GetTeamNumber()then local ei=J:GetAbsOrigin()+J:GetPropVector("localdata","m_vecViewOffset[0]")local en=et:GetHitboxPosition(5)engine.SetViewAngles((en-ei):Angles())gui.SetValue("rbot.aim.target.fov",I)gui.SetValue("rbot.aim.target.lock",true)A=et O=true end end end ee=true until true if not ee then break end end end)callbacks.Register("FireGameEvent","playerlist.extensions.Priority.FireGameEvent",function(Q)if Q:GetName()=="player_death"and O then if client.GetPlayerIndexByUserID(Q:GetInt("userid"))==A:GetIndex()then O=false A=nil gui.SetValue("rbot.aim.target.fov",180)return gui.SetValue("rbot.aim.target.lock",false)end end end)local S=plist.gui.Multibox("Force ...")do local Q=plist.gui.Multibox_Checkbox(S,"force.baim","BAIM",false)Q:SetDescription("Sets bodyaim to priority.")end do local Q=plist.gui.Multibox_Checkbox(S,"force.safepoint","Safepoint",false)Q:SetDescription("Shoots only on safepoint.")end local H={"asniper","hpistol","lmg","pistol","rifle","scout","shared","shotgun","smg","sniper","zeus"}local R={applied=false}local D D=function()if R.applied then print("[PLAYERLIST] WARNING: Force baim has already been applied.")end for Q=1,#H do local J=H[Q]if gui.GetValue("rbot.hitscan.mode."..tostring(J)..".bodyaim")~=1 then R[J]=gui.GetValue("rbot.hitscan.mode."..tostring(J)..".bodyaim")gui.SetValue("rbot.hitscan.mode."..tostring(J)..".bodyaim",1)end end R.applied=true end local L L=function()if not R.applied then print("[PLAYERLIST] WARNING: Force baim hasn't been applied.")end for Q,J in pairs(R)do local X=false repeat if Q=="applied"then X=true break end gui.SetValue("rbot.hitscan.mode."..tostring(Q)..".bodyaim",J)X=true until true if not X then break end end R={applied=false}end local U={applied=false}local C={"delayshot","delayshotbody","delayshotlimbs"}local M M=function()if U.applied then print("[PLAYERLIST] WARNING: Force safepoint has already been applied.")end for Q=1,#H do local J=H[Q]for X=1,#C do local Z=C[X]if gui.GetValue("rbot.hitscan.mode."..tostring(J).."."..tostring(Z))~=1 then U[tostring(J).."."..tostring(Z)]=gui.GetValue("rbot.hitscan.mode."..tostring(J).."."..tostring(Z))gui.SetValue("rbot.hitscan.mode."..tostring(J).."."..tostring(Z),1)end end end U.applied=true end local F F=function()if not U.applied then print("[PLAYERLIST] WARNING: Force safepoint hasn't been applied.")end for Q,J in pairs(U)do local X=false repeat if Q=="applied"then X=true break end gui.SetValue("rbot.hitscan.mode."..tostring(Q),J)X=true until true if not X then break end end U={applied=false}end local W=nil callbacks.Register("AimbotTarget","playerlist.extensions.FBSP.AimbotTarget",function(Q)if not Q:GetIndex()then return end W=Q local J=plist.GetByIndex(Q:GetIndex())if J.get("force.baim")then if not R.applied then D()end elseif R.applied then L()end if J.get("force.safepoint")then if not U.applied then return M()end elseif U.applied then return F()end end)callbacks.Register("FireGameEvent","playerlist.extensions.FBSP.FireGameEvent",function(Q)if Q:GetName()=="player_death"and W and client.GetPlayerIndexByUserID(Q:GetInt("userid"))==W:GetIndex()then W=nil if R.applied then L()end if U.applied then return F()end end end)local Y=plist.gui.Multibox("ESP Options")local P do local Q=plist.gui.Multibox_Checkbox(Y,"esp.box","Box",false)Q:SetDescription("Draw box around entity.")P=Q end plist.gui.Multibox_ColorPicker(P,"esp.box.clr","Box Color",0xFF,0x00,0x00,0xFF)local V do local Q=plist.gui.Multibox_Checkbox(Y,"esp.chams","Chams",false)Q:SetDescription("Draw chams onto the model. Colors are: visible / invisible")V=Q end plist.gui.Multibox_ColorPicker(V,"esp.chams.invclr","Invisible Color",0xFF,0xFF,0x00,0xFF)plist.gui.Multibox_ColorPicker(V,"esp.chams.visclr","Visible Color",0x00,0xFF,0x00,0xFF)do local Q=plist.gui.Multibox_Checkbox(Y,"esp.name","Name",false)Q:SetDescription("Draw entity name.")end do local Q=plist.gui.Multibox_Checkbox(Y,"esp.healthbar","Healthbar",false)Q:SetDescription("Draw entity healthbar.")end do local Q=plist.gui.Multibox_Checkbox(Y,"esp.ammo","Ammo",false)Q:SetDescription("Draw amount of money left in weapon.")end local B={weapon_glock=20,weapon_usp_silencer=12,weapon_hkp2000=13,weapon_revolver=8,weapon_cz75a=12,weapon_deagle=7,weapon_elite=30,weapon_fiveseven=20,weapon_p250=13,weapon_tec9=18,weapon_mac10=30,weapon_mp7=30,weapon_mp9=30,weapon_mp5sd=30,weapon_bizon=64,weapon_p90=50,weapon_ump45=25,weapon_mag7=5,weapon_nova=8,weapon_sawedoff=8,weapon_xn1014=7,weapon_m249=100,weapon_negev=150,weapon_ak47=30,weapon_aug=30,weapon_famas=25,weapon_galilar=35,weapon_m4a1_silencer=25,weapon_m4a1=30,weapon_sg556=30,weapon_ssg08=10,weapon_scar20=20,weapon_gs3sg1=20,weapon_awp=10}callbacks.Register("DrawESP","playerlist.extensions.PPE.DrawESP",function(Q)local J=Q:GetEntity()if not J:IsPlayer()then return end local X=plist.GetByIndex(J:GetIndex())if X.get("esp.box")then draw.Color(unpack(X.get("esp.box.clr")))draw.OutlinedRect(Q:GetRect())end if X.get("esp.name")then Q:AddTextTop(J:GetName())end if X.get("esp.healthbar")then Q:AddBarLeft(J:GetHealth()/100,J:GetHealth())end if X.get("esp.ammo")then local Z=J:GetPropEntity("m_hActiveWeapon")if Z then local ee=Z:GetProp("m_iClip1")if ee>=0 then if B[tostring(Z)]==nil then print("[Player List] [WARNING] Unknow weapon: "..tostring(Z))B[tostring(Z)]=ee end return Q:AddBarBottom(ee/B[tostring(Z)],ee)end end end end)local G={}local K K=function(Q,J)local X=Q[1]+Q[2]*256+Q[3]*65536+Q[4]*16777216+J*4294967296 if G[X]then return G[X]end local Z=([[        "VertexLitGeneric" {
        "$basetexture" "vgui/white_additive"
        "$color" "[%s %s %s]"
        "$alpha" "%s"
        "$ignorez" "%s"
    }]]):format(Q[1]/255,Q[2]/255,Q[3]/255,Q[4]/255,J)G[X]=materials.Create("Chams",Z)return G[X]end callbacks.Register("DrawModel","playerlist.extensions.PPE.DrawModel",function(Q)local J=Q:GetEntity()if not J or not J:IsPlayer()then return end local X=plist.GetByIndex(J:GetIndex())if X.get("esp.chams")then if X.get("esp.chams.invclr")[4]>0 then Q:ForcedMaterialOverride(K(X.get("esp.chams.invclr"),1))Q:DrawExtraPass()end if X.get("esp.chams.visclr")[4]>0 then return Q:ForcedMaterialOverride(K(X.get("esp.chams.visclr"),0))end end end)